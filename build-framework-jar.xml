<?xml version="1.0" encoding="UTF-8"?>

<project name="cbbase-framework-jar" basedir="." default="jar">

    <property name="src.dir"     value="src"/>
    <property name="jar.dir"     value="out"/>
    <property name="bin.dir"     value="bin"/>
    <property name="lib.dir"     value="WebContent\WEB-INF\lib"/>

   
    <path id="classpath">
        <fileset dir="${lib.dir}" includes="**/*.jar"/>
    </path>

   
    <target name="compile"> 
       	<mkdir dir="${bin.dir}"/>
       	<javac srcdir="${src.dir}" destdir="${bin.dir}" classpathref="classpath">
        	<compilerarg line="-encoding UTF-8"/>  
        </javac>  
    </target>

   
    <target name="clean">
       	<delete file="${jar.dir}/${ant.project.name}.jar"/>
       	<delete dir="${bin.dir}"/>
    </target>

   
    <target name="jar" depends="clean,compile">
       	<mkdir dir="${jar.dir}"/>

		<jar jarfile="${jar.dir}/cbbase-framework-1.0.jar">
			<manifest>
				<attribute name="Created-By" value="www.cbbase.com" />
			</manifest>
			<fileset dir="${bin.dir}">
				<include name="com/cbbase/framework/**"/>
			</fileset>
        </jar>
        <jar jarfile="${jar.dir}/cbbase-tools-1.0.jar">
			<manifest>
				<attribute name="Created-By" value="www.cbbase.com" />
			</manifest>
			<fileset dir="${bin.dir}">
				<include name="com/cbbase/framework/tools/**"/>
				<include name="com/cbbase/framework/encrypt/**"/>
				<include name="com/cbbase/framework/jdbc/**"/>
			</fileset>
        </jar>
        <jar jarfile="${jar.dir}/cbbase-test-1.0.jar">
			<manifest>
				<attribute name="Created-By" value="www.cbbase.com" />
			</manifest>
			<fileset dir="${bin.dir}">
				<include name="test/**"/>
			</fileset>
        </jar>
    </target> 

</project>